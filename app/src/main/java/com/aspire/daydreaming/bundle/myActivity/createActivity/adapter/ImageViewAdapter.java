package com.aspire.daydreaming.bundle.myActivity.createActivity.adapter;import android.graphics.Bitmap;import android.support.v7.widget.RecyclerView;import android.text.TextUtils;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import com.aspire.daydreaming.R;import com.squareup.picasso.Picasso;import java.util.List;import butterknife.Bind;import butterknife.ButterKnife;/** * @Name: ImageViewAdapter * @Author: yeliang * @Date: 2016/8/25 */public class ImageViewAdapter extends RecyclerView.Adapter<ImageViewAdapter.ImageHolder> {    private static final String TAG = "ImageViewAdapter";    private List<Bitmap> mBitmaps;    private String[] mUrls;    private TYPE mTYPE;    private enum TYPE {        BITMAP,        URL,        PATH    }    private OnItemClickListener mListener;    public ImageViewAdapter(List<Bitmap> bitmaps) {        mBitmaps = bitmaps;        mTYPE = TYPE.BITMAP;    }    public ImageViewAdapter(String[] urls) {        mUrls = urls;        mTYPE = TYPE.URL;    }    @Override    public ImageHolder onCreateViewHolder(ViewGroup parent, int viewType) {        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_add_image, parent, false);        return new ImageHolder(view);    }    @Override    public void onBindViewHolder(ImageHolder holder, int position) {        switch (mTYPE) {            case BITMAP:                holder.setData(mBitmaps.get(position));                break;            case URL:                holder.setData(mUrls[position]);                break;        }        holder.itemView.setOnClickListener(v -> mListener.onItemClick(position));    }    @Override    public int getItemCount() {        switch (mTYPE) {            case BITMAP:                return mBitmaps.size();            case URL:                return mUrls.length;        }        return 0;    }    public void setOnItemClickListener(OnItemClickListener onItemClickListener) {        if (onItemClickListener != null) {            mListener = onItemClickListener;        } else {            mListener = position -> {            };        }    }    public interface OnItemClickListener {        void onItemClick(int position);    }    class ImageHolder extends RecyclerView.ViewHolder {        @Bind(R.id.iv_icon)        ImageView mIvIcon;        ImageHolder(View itemView) {            super(itemView);            ButterKnife.bind(this, itemView);        }        public void setData(Bitmap data) {            mIvIcon.setImageBitmap(data);        }        public void setData(String url) {            if (!TextUtils.isEmpty(url)) {                Picasso.with(itemView.getContext())                        .load(url)                        .resize(640, 360)                        .centerCrop()                        .placeholder(R.mipmap.img_custom)                        .into(mIvIcon);            }        }    }}