package com.aspire.daydreaming.bundle.test;import android.content.Context;import android.os.Bundle;import android.support.v4.view.ViewPager;import android.support.v7.app.AppCompatActivity;import android.view.View;import android.widget.Button;import android.widget.CheckBox;import android.widget.CompoundButton;import com.aspire.daydreaming.R;import butterknife.Bind;import butterknife.ButterKnife;public class CardActivity extends AppCompatActivity implements View.OnClickListener,        CompoundButton.OnCheckedChangeListener{    @Bind(R.id.cardTypeBtn)    Button mCardTypeBtn;    @Bind(R.id.checkBox)    CheckBox mCheckBox;    @Bind(R.id.viewPager)    ViewPager mViewPager;    private CardPagerAdapter mCardAdapter;    private ShadowTransformer mCardShadowTransformer;    private CardFragmentPagerAdapter mFragmentCardAdapter;    private ShadowTransformer mFragmentCardShadowTransformer;    private boolean mShowingFragments = false;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_card);        ButterKnife.bind(this);        mCheckBox.setOnCheckedChangeListener(this);        mCardTypeBtn.setOnClickListener(this);        mCardAdapter = new CardPagerAdapter();        mFragmentCardAdapter = new CardFragmentPagerAdapter(getSupportFragmentManager(),                dpToPixels(2, this));        mCardShadowTransformer = new ShadowTransformer(mViewPager, mCardAdapter);        mFragmentCardShadowTransformer = new ShadowTransformer(mViewPager, mFragmentCardAdapter);        mViewPager.setAdapter(mCardAdapter);        mViewPager.setPageTransformer(false, mCardShadowTransformer);        mViewPager.setOffscreenPageLimit(3);    }    @Override    public void onClick(View view) {        if (!mShowingFragments) {            mCardTypeBtn.setText("Views");            mViewPager.setAdapter(mFragmentCardAdapter);            mViewPager.setPageTransformer(false, mFragmentCardShadowTransformer);        } else {            mCardTypeBtn.setText("Fragments");            mViewPager.setAdapter(mCardAdapter);            mViewPager.setPageTransformer(false, mCardShadowTransformer);        }        mShowingFragments = !mShowingFragments;    }    public static float dpToPixels(int dp, Context context) {        return dp * (context.getResources().getDisplayMetrics().density);    }    @Override    public void onCheckedChanged(CompoundButton compoundButton, boolean b) {        mCardShadowTransformer.enableScaling(b);        mFragmentCardShadowTransformer.enableScaling(b);    }}